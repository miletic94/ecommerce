(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{50:function(e,t,c){},80:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c.n(a),n=c(23),s=c.n(n),i=(c(50),c(40)),o=c.n(i),l=c(41),d=c.n(l),j=c(42),u=c.n(j),b=c(10),O=c(1);function p(){return Object(O.jsx)("div",{children:Object(O.jsxs)("nav",{children:[Object(O.jsxs)("div",{className:"navGrid",children:[Object(O.jsxs)("div",{className:"dFlex alignCenter gapSm navigation",children:[Object(O.jsx)(o.a,{className:"menuIcon hoverSecondary cursorPointer"}),Object(O.jsx)(b.b,{to:"/",children:Object(O.jsx)("div",{className:"brand cursorPointer",children:"amazona"})})]}),Object(O.jsxs)("div",{className:"dFlex alignCenter gapSm userAction justifySelfEnd",children:[Object(O.jsx)("div",{className:"fontSm hoverSecondary cursorPointer",children:"Sign In"}),Object(O.jsx)(b.b,{to:"/cart",children:Object(O.jsx)(d.a,{className:"shoppingCart hoverSecondary"})})]})]}),Object(O.jsxs)("div",{className:"searchBar dFlex alignCenter spaceBetween",children:[Object(O.jsx)("input",{type:"text",placeholder:"Search Amazona"}),Object(O.jsx)("button",{className:"btnPrimary",children:Object(O.jsx)(u.a,{className:"searchIcon cursorPointer"})})]})]})})}var m=c(2),h=c(24),x=c.n(h);function g(e){return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("img",{className:"imgMd",src:e.image,alt:e.title}),Object(O.jsxs)("div",{className:"horizontalPdSm verticalPdSm",children:[Object(O.jsx)("h2",{className:"productName",children:e.title}),Object(O.jsxs)("div",{className:"cardProductInfo",children:[Object(O.jsxs)("div",{className:"dFlex alignCenter gapSm",children:[Object(O.jsx)(x.a,{classNames:"rating",value:e.rating,activeColor:"#f3a847",size:24,edit:!1,isHalf:!0}),Object(O.jsx)("span",{className:"ratingCount hoverSecondary",children:e.ratingCount})]}),Object(O.jsx)("div",{className:"price",children:"$".concat(e.price)})]})]})]},e.id)}var v=c(11),f=c(3),y=c(12),N=c.n(y),C=c(16),S="PRODUCT_LIST_REQUEST",I="PRODUCT_LIST_SUCCESS",T="PRODUCT_LIST_FAIL",_="PRODUCT_DETAILS_REQUEST",E="PRODUCT_DETAILS_SUCCESS",P="PRODUCT_DETAILS_FAIL",L=c(17),A=c.n(L),F=c(25),R=c.n(F);function w(){var e=Object(v.c)((function(e){return e.productList})),t=e.loading,c=e.products,r=e.error,n=Object(v.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(C.a)(N.a.mark((function e(t){var c,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:S}),e.prev=1,e.next=4,A.a.get("/api/products");case 4:c=e.sent,a=c.data,t({type:I,payload:{products:a}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:T,payload:{error:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[n]),Object(O.jsx)("main",{children:t?Object(O.jsxs)("div",{className:"dFlex alignCenter",children:[Object(O.jsx)(R.a,{type:"bubbles",color:"#cccccc"}),Object(O.jsx)("h2",{children:"Loading"})]}):r?Object(O.jsx)("div",{className:"danger",children:r}):c.map((function(e){return Object(O.jsx)(b.b,{to:"product/".concat(e.id),children:Object(O.jsx)(g,{id:e.id,title:e.title,price:e.price,category:e.category,image:e.image,rating:e.rating.rate,ratingCount:e.rating.count})},e.id)}))})}var D=c(7),k=c(6);function U(){var e=Object(m.g)(),t=Object(m.f)(),c=Object(v.c)((function(e){return e.productDetailsList})),r=c.loading,n=c.product,s=c.error,i=Object(a.useState)(1),o=Object(k.a)(i,2),l=o[0],d=o[1],j=Object(v.b)();return Object(a.useEffect)((function(){var t;j((t=e.id,function(){var e=Object(C.a)(N.a.mark((function e(c){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:_}),e.prev=1,e.next=4,A.a.get("/api/products/".concat(t));case 4:a=e.sent,r=a.data,c({type:E,payload:{product:Object(f.a)({},r)}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c({type:P,payload:{error:e.t0.message}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[j,e.id]),Object(O.jsx)("main",{children:r?Object(O.jsx)(R.a,{type:"bubbles",color:"#cccccc"}):s?Object(O.jsx)("div",{className:"danger",children:s}):Object(O.jsxs)("div",{className:"product",children:[Object(O.jsx)("img",{className:"imgLg",src:n.image,alt:n.title}),Object(O.jsxs)("div",{className:"productText",children:[Object(O.jsx)("h2",{className:"productName",children:n.title}),Object(O.jsxs)("div",{className:"ratingRow",children:[Object(O.jsx)(x.a,{classNames:"rating",activeColor:"#f3a847",size:24,edit:!1,value:n.rating?n.rating.rate:0,isHalf:!0}),Object(O.jsx)("div",{className:"ratingCount",children:n.rating?n.rating.count:0})]}),Object(O.jsx)("p",{className:"description",children:n.description}),Object(O.jsxs)("div",{className:"putInCartAction",children:[Object(O.jsxs)("div",{className:"selectionRow",children:[Object(O.jsx)("select",{name:"quantity",className:"quantity",onChange:function(e){return d(e.target.value)},children:Object(D.a)(Array(n.available).keys()).map((function(e){return Object(O.jsxs)("option",{value:(e+1).toString(),children:["Qty: ",e+1]},e+1)}))}),Object(O.jsx)("div",{className:"price",children:"$".concat(n.price)})]}),Object(O.jsx)("button",{className:"btnPrimary brightnessLower",onClick:function(){t("/cart/".concat(n.id,"?qty=").concat(l))},children:"Add to Cart"})]})]})]})})}var q="ADD_TO_CART",B="REMOVE_FROM_CART",z="CLEAR_CART",M="ecommerce-",J=function(e,t){return function(){var c=Object(C.a)(N.a.mark((function c(a,r){var n,s,i;return N.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,A.a.get("/api/products/".concat(e));case 3:n=c.sent,s=n.data,a({type:q,payload:{id:s.id,image:s.image,title:s.title,category:s.category,price:s.price,available:s.available,qty:t}}),c.next=11;break;case 8:return c.prev=8,c.t0=c.catch(0),c.abrupt("return");case 11:i="".concat(M,"-shopping-cart"),localStorage.setItem(i,JSON.stringify(r().shoppingCart));case 13:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e,t){return c.apply(this,arguments)}}()};function Q(e){return Object(O.jsx)("div",{className:"messageBox",children:e.children})}function G(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.shoppingCart})),c=Object(m.g)().id,r=Object(m.e)(),n=r.search?r.search.split("=")[1]:1,s=Object(m.f)();Object(a.useEffect)((function(){c&&n&&e(J(c,n)),s("/cart")}),[e,c,n,s]);var i=function(t){e(function(e){return{type:B,payload:{productId:e}}}(t))};return Object(O.jsx)("main",{children:0===t.cartItems.length?Object(O.jsx)(Q,{children:Object(O.jsxs)("pre",{children:["Cart is Empty ",Object(O.jsx)(b.b,{to:"/",children:"Go back to shopping"})]})}):Object(O.jsxs)("div",{className:"dFlex directionColumn alignCenter",children:[Object(O.jsx)(b.b,{to:"/",children:Object(O.jsx)("h2",{className:"backToShopping",children:"BACK TO SHOPPING"})}),Object(O.jsx)("ul",{className:"cart",children:t.cartItems.map((function(t){return Object(O.jsxs)("li",{className:"cartItem",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{className:"imgXsm",src:t.image,alt:t.title}),Object(O.jsx)("div",{className:"cartItemTitle",children:t.title})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"dFlex alignCenter",children:Object(O.jsx)("select",{name:"quantity",className:"quantity",value:t.qty,onChange:function(c){e(J(t.id,c.target.value))},children:Object(D.a)(Array(t.available).keys()).map((function(e){return Object(O.jsxs)("option",{value:(e+1).toString(),children:["Qty: ",e+1]},e+1)}))})}),Object(O.jsxs)("div",{className:"cartItemPrice",children:["Price: ",(parseInt(t.qty)*Number(t.price).toFixed(2)).toFixed(2)]})]}),Object(O.jsx)("button",{className:"btnSecondary",onClick:function(){return i(t.id)},children:"Remove"})]},t.id)}))}),Object(O.jsxs)("div",{className:"card buyCard",children:[Object(O.jsxs)("div",{className:"subtotal",children:["Subtotal: ","\n                        ".concat(t.cartItems.reduce((function(e,t){return e+parseInt(t.qty)}),0)," items\n                        ").concat(t.cartItems.reduce((function(e,t){return(Number(e)+parseInt(t.qty)*Number(t.price).toFixed(2)).toFixed(2)}),0),"$\n                        ")]}),Object(O.jsx)("button",{className:"btnPrimary",children:"Buy"}),Object(O.jsx)("button",{className:"clearCart",onClick:function(){return e({type:z})},children:"Clear Shopping Cart"})]})]})})}var H=function(){return Object(O.jsx)(b.a,{basename:"/",children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(p,{}),Object(O.jsxs)(m.c,{children:[Object(O.jsx)(m.a,{path:"/",element:Object(O.jsx)(w,{})}),Object(O.jsx)(m.a,{path:"product/:id",element:Object(O.jsx)(U,{})}),Object(O.jsx)(m.a,{path:"/cart/:id",element:Object(O.jsx)(G,{})}),Object(O.jsx)(m.a,{path:"/cart",element:Object(O.jsx)(G,{})})]})]})})},X=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,87)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),a(e),r(e),n(e),s(e)}))},$=c(18),V=c(44);var K="".concat(M,"-shopping-cart"),W=!!localStorage.getItem(K);var Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$.c,Z=Object($.b)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,products:[],error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(f.a)(Object(f.a)({},e),{},{loading:!0});case I:return Object(f.a)(Object(f.a)({},e),{},{loading:!1,products:t.payload.products});case T:return Object(f.a)(Object(f.a)({},e),{},{loading:!1,error:t.payload.error.message});default:return e}},productDetailsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,product:{},error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(f.a)(Object(f.a)({},e),{},{loading:!0});case E:return Object(f.a)(Object(f.a)({},e),{},{loading:!1,product:Object(f.a)(Object(f.a)({},t.payload.product),{},{rating:{rate:t.payload.product.rating.rate,count:t.payload.product.rating.count}})});case P:return Object(f.a)(Object(f.a)({},e),{},{loading:!1,error:t.payload.error});default:return e}},shoppingCart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W?JSON.parse(localStorage.getItem(K)):{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:var c=t.payload,a=e.cartItems.find((function(e){return e.id===c.id}));return a?Object(f.a)(Object(f.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.id===a.id?c:e}))}):Object(f.a)(Object(f.a)({},e),{},{cartItems:[].concat(Object(D.a)(e.cartItems),[c])});case B:return Object(f.a)(Object(f.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload.productId}))});case z:return{cartItems:[]};default:return e}}}),ee=Object($.d)(Z,{},Y(Object($.a)(V.a)));s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(v.a,{store:ee,children:Object(O.jsx)(H,{})})}),document.getElementById("root")),X()}},[[80,1,2]]]);
//# sourceMappingURL=main.5e7b8f28.chunk.js.map